<div class="row mission-list-heading">
  <div class="col-md-6 pull-left">
    <h2>{{missionScopeTitle}} Missions:</h2>
  </div>
  <div class="col-md-2 pull-right">
    <div upload-mission user="controller.currentUser"></div>
  </div>
</div>

<div class="row mission-list-filters">

  <div class="col-md-6 btn-group">
    <label class="btn btn-default active" ng-model="missionDataSet" btn-radio="'all'">All Missions</label>
    <label class="btn btn-default" ng-model="missionDataSet" btn-radio="'mine'">My Missions</label>
    <button class="btn btn-default" ng-click="toggleCreatedAt()">Sort <b class="caret"></b></button>
  </div>

  <div class="col-md-6" ng-hide="controller.queryFilterHidden">
    <div class="row">

      <div class="col-md-10">
        <div class="input-group">
          <div class="input-group-btn">
            <div class="btn dropdown" is-open="dropDownIsOpen.field">
              <button type="button" class="btn btn-default dropdown-toggle" ng-class="{active: filtersActive}">
                {{filters.field.title}} <b class="caret"></b>
              </button>
              <ul class="dropdown-menu">
                <li ng-repeat="field in controller.filterFields">
                  <a href ng-click="tryFilterField($index)">{{field.title}}</a>
                </li>
              </ul>
            </div>

            <div class="btn dropdown" is-open="dropDownIsOpen.opt">
              <button type="button" class="btn btn-default dropdown-toggle" ng-class="{active: filtersActive}">
                <span ng-bind-html="filters.opt.title"></span> <b class="caret"></b>
              </button>
              <ul class="dropdown-menu" role="menu">
                <li ng-repeat="fieldOpt in controller.filterOpts">
                  <a href ng-click="tryFilterOp($index)"><span ng-bind-html="fieldOpt.title"></span></a>
                </li>
              </ul>
            </div>
          </div>

          <input type="text" class="form-control" ng-model="filters.input" />
          <span ng-show="filtersActive" class="form-control-input-clear glyphicon glyphicon-remove-circle"></span>
          <span class="input-group-addon">{{filters.field.units}}</span>
        </div>
      </div>

      <div class="col-md-2">
        <button ng-ladda-bootstrap data-style="zoom-out" ladda-toggle="filterInProgress" class="ladda-button btn btn-primary" ng-click="tryFilterDataSet()">
          Filter
        </button>
      </div>

    </div>
  </div>


</div>
<div class="row mission-list-body">
  <div class="clearfix" infinite-scroll='checkIfNextPage()' infinite-scroll-disabled='busy' infinite-scroll-distance='1' ng-hide="!records.length">
    <div mission-summary class="col-md-3" ng-repeat="mission in records" mission="mission"></div>
  </div>
  <div class="col-md-12 alert alert-danger" ng-show="!records.length" role="alert">
    No missions found
  </div>
</div>
